---
title: "Linux speeds past OS X (again)"
slug: "linux-speeds-past-os-x-again"
date: "2006-05-10T15:51:00-06:00"
author: "fak3r"
categories:
- linux
- rant
tags:
- apple
---

![Mac-vs-Linux-vs-Win](http://fak3r.com/wp-content/uploads/2006/06/mac-vs-linux-vs-win.jpg)Alright, so now that you can run Linux _and_ Mac OS X on the same native hardware that Linux was originally built, a more direct comparison of speed and efficiency can be achieved between the two venerable operating systems.  (You know, because before Apple moved to Intel chips, PowerPC/RISC was tons more efficient and x86/CISC instruction set was so old, crappy, etc…or as the marketing folks wanted you to think…)  Yes, in the past we saw how Linux was far more efficient as a server when running on an Opteron vs a G5.  In the [first round of test](http://www.anandtech.com/mac/showdoc.aspx?i=2436&p=8), ”_…The MySQL database running on Mac OS X and the Dual G5 was up to 10 times slower than on the Dual Opteron running Linux_.”  Later, more tests were attempted running OS X and Linux on the same G5 hardware, with [almost no change in results](http://www.anandtech.com/mac/showdoc.aspx?i=2436&p=8) since, ”_Mac OS X is incredibly slow, between 2 and 5(!) times slower, in creating new threads … the performance of server applications depends greatly on the threading, signaling and locking engine. … a PowerPC optimized Linux such as Yellow Dog is a better idea for the Xserve than Mac OS X server_.”  More server tests using [popular Database MySQL and web server Apache](http://www.anandtech.com/mac/showdoc.aspx?i=2520) showed only more grief for OS X, ”_Running Yellow Dog Linux, the Dual G5 simply wipes the floor with Mac OS X: 411 versus 113 queries per second. It gets worse at 10 concurrent users: 443 queries per second on Linux versus 62 on Mac Os X. Around 20 connections, performance declines only very slowly just like all the x86/Linux machines_.”  With Apache results predictably poor as well, showing, ”_Apachebench on Mac OS X gets in trouble again. Version 2.0 is slightly faster on OS X, but it still trails by a significant margin. On the other hand, YDL and the Xeon platform are roughly 3X as fast with version 2.0_.”  And concluding with, ”_Even if we ignore the Apache results, our MySQL tests - and the queries used in these tests - are based on a real world usage pattern of a real world database. The G5 is partially crippled by a chipset that takes a long time to access the memory, and it’s not the fastest integer CPU; still, it performs like a 3 GHz Xeon on Linux. The problem clearly lies in Mac OS X, and is worth further investigation. …if you plan to run MySQL on Apple hardware, it is better to install YDL Linux than to use OS X. If you need excellent read performance, the maximum performance of your server will be up to 8 times better_.”  Ouch, so for a server OS X falls flat on its face, regardless of what tests it gets put in next to Linux, but how about on the Desktop?  Surely the Intel Duo Core chips can keep up with basic low level operations needed to push desktop windows around…or does it?  Well now we have answers on that front as well.

Unfortunately for Apple, the results for more basic desktop apps is still staggering, with [the latest set of numbers](http://sekhon.berkeley.edu/macosx/intel.html)  just showing how powerful and tuned Linux really is.  His comments on the tests, ”_Both Linux and Windows XP are vastly faster than OS X: more than twice as fast. And Linux is somewhat faster than Windows XP … This second benchmarks looks better for OS X, but it is still about 1.2 times slower than Linux. And the gap between Linux and Windows has grown from about 5 to about 10 percent_.”  Amazing numbers.  His conclusion is obvious now, ”_Linux is found to be much faster than Apple’s OS X for statistical computing. And although Linux is 5 to 10 percent faster than Windows XP, both are markedly faster than OS X. For example, in one benchmark both  Linux and Windows XP are more than twice as fast as OS X. The results on this page were conducted on a MacBookpro with a 2.16Ghz Intel Core Duo chip and 2GB of RAM_.”  Eek, so there you have it, same hardware now, and finally we’re comparing Apples to Apples (pun intended).  Give Microsoft credit for almost keeping up with Linux, this despite all it’s legacy handlers getting in the way is an achievement in it’s own right.  And so it continues, with many of the issues with threading and forking being blamed (again) on OS X’s kernel design, which includes the Mach kernel, then BSD, then the I/O Kit, file systems, and networking components.  Again, folks that understand this more will be more qualified to [debate this approach versus Linus’ path](http://www.realworldtech.com/forums/index.cfm?action=detail&PostNum=4342&Thread=12&entryID=66630&roomID=11) of a Microkernel, but now that all things are ‘even’ we can finally see some real world performance comparisons of OS X on Intel versus Linux on the hardware on which it was natively designed and developed.

People on the web have recently been speculating whether ”_Apple with drop the Mach micro-kernel portion of XNU. These rumors have picked with the departure of Avie Tevanian, an important figure in the development of the Mach Kernel first at Carnegie Mellon and then at Apple_.”  Clearly something needs to change so that OS X’s full potential can be realized on the awesome hardware platform they’ve plugged it into.  Does this sway me from still wanting an Intel Mac Mini?  Na, it’s got the photo and movie apps I want, plus I can still run Linux on it, so it’s really the best of both…I mean, all worlds since I could have XP running the latest Steam games online too.
